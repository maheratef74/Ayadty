@{
    Layout = "_AdminLayout";
}
@inject IViewLocalizer localizer
@using System.Globalization
@using Microsoft.AspNetCore.Mvc.Localization


<!DOCTYPE html>

<head>
    <title>@localizer["Working Days"]</title>
    <link rel="stylesheet" href="~/css/working_days.css">
</head>

<body>

    <div class="container2">
        <div class="title">
            <h1>@localizer["Working Days"]</h1>
            <hr>
        </div>

        <!-- Header Row -->
        <div class="header-row">
            <div>@localizer["Day"]</div>
            <div>@localizer["Start Time"]</div>
            <div>@localizer["End Time"]</div>
        </div>

        <div id="formContainer">
            <!-- New rows will be added here -->
        </div>

        <div id="buttons">
            <button id="addMore">@localizer["Add More"]</button>
            <button id="save">@localizer["Save"]</button>
            <button id="edit" style="display:none;">@localizer["Edit"]</button>
        </div>
    </div>

<script>
        let editMode = false;

        document.getElementById('addMore').addEventListener('click', function () {
            addRow();
        });

        document.getElementById('save').addEventListener('click', function () {
            saveForm();
        });

        document.getElementById('edit').addEventListener('click', function () {
            enableEditing();
        });

        function addRow(day = '', startTime = '', endTime = '') {
            const row = document.createElement('div');
            row.classList.add('form-row');
            row.innerHTML = `
                        <select ${editMode ? 'disabled' : ''}>
                                            <option value="" ${!day ? 'selected' : ''}>@localizer["Select day"]</option>
                                    <option value="Monday" ${day === 'Monday' ? 'selected' : ''}>@localizer["Monday"]</option>
                                            <option value="Tuesday" ${day === 'Tuesday' ? 'selected' : ''}>@localizer["Tuesday"]</option>
                                            <option value="Wednesday" ${day === 'Wednesday' ? 'selected' : ''}>@localizer["Wednesday"]</option>
                                            <option value="Thursday" ${day === 'Thursday' ? 'selected' : ''}>@localizer["Thursday"]</option>
                                            <option value="Friday" ${day === 'Friday' ? 'selected' : ''}>@localizer["Friday"]</option>
                                    <option value="Saturday" ${day === 'Saturday' ? 'selected' : ''}>@localizer["saturday"]</option>
                                            <option value="Sunday" ${day === 'Sunday' ? 'selected' : ''}>@localizer["Sunday"]</option>
                        </select>
                        <input type="time" placeholder="Enter start time" value="${startTime}" ${editMode ? 'disabled' : ''}>
                        <input type="time" placeholder="Enter end time" value="${endTime}" ${editMode ? 'disabled' : ''}>
                                        <button type="button" class="delete-button" onclick="deleteRow(this)">@localizer["Delete"]</button>
                    `;
            document.getElementById('formContainer').appendChild(row);
        }

        function deleteRow(button) {
            button.parentElement.remove();
        }

        function saveForm() {
            const inputs = document.querySelectorAll('#formContainer input, #formContainer select');
            inputs.forEach(input => input.disabled = true);
            document.getElementById('edit').style.display = 'block';
            document.getElementById('save').style.display = 'none';
            editMode = true;
        }

        function enableEditing() {
            const inputs = document.querySelectorAll('#formContainer input, #formContainer select');
            inputs.forEach(input => input.disabled = false);
            document.getElementById('edit').style.display = 'none';
            document.getElementById('save').style.display = 'block';
            editMode = false;
        }

        // Add a row when the page loads
        window.onload = function () {
            addRow();
        };
    </script>
    <!-- jquery Min JS -->
    <script src="~/js/jquery.min.js"></script>

    <!-- Main JS -->
    <script src="~/js/main.js"></script>
</body>

